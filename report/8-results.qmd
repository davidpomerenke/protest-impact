## Results

### Methods

### Placebo

```{python}
# | column: page
# | echo: false
import matplotlib.pyplot as plt
from src.visualization.impacts import plot_trends

fig, axes = plot_trends(cumulative=False, lags=range(-7,1), steps=range(-28,8))
fig.suptitle("Placebo test: estimating the causal impact on past outcomes")
axes[0].set_ylim(-3, 5)
axes[0].set_xticks(range(-28, 8, 7))
plt.show()
```

### Protest impact

```{python}
# | column: page
# | echo: false
import matplotlib.pyplot as plt
from src.visualization.impacts import plot_trends

fig, _ = plot_trends(cumulative=False)
fig.suptitle("Time series of the causal impact by method and coverage dimension")
plt.show()
```

```{python}
# | column: page
# | echo: false
fig, axes = plot_trends(cumulative=True)
fig.suptitle("Cumulative time series of the causal impact by method and coverage dimension")
axes[0].set_ylim(-10, 50)
plt.show()
```

Causal effects for the individual protest groups differ substantially between regression and inverse propensity weighting and are not statistically significant at p=0.05 for the doubly robust estimator.

```{python}
# | fig-caption: Error bars are 95% confidence intervals.
# | column: page
# | echo: false

import altair as alt
from src.visualization.impacts import plot_groups

alt.renderers.enable('altair_saver', fmts=["html", "svg"])
plot_groups(kind="groups", step=1)
```

```{python}
# | fig-caption: Error bars are 95% confidence intervals.
# | column: page
# | echo: false

import altair as alt
from src.visualization.impacts import plot_groups

alt.renderers.enable('altair_saver', fmts=["html", "svg"])
plot_groups(kind="groups", step=6)
```

```{python}
# | fig-caption: Error bars are 95% confidence intervals.
# | column: page
# | echo: false

import altair as alt
from src.visualization.impacts import plot_groups

alt.renderers.enable('altair_saver', fmts=["html", "svg"])
plot_groups(kind="methods", step=1)
```
